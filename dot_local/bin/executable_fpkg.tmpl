#!/bin/sh

{{- if eq .chezmoi.os "linux" }}
  {{- if eq .chezmoi.osRelease.id "debian" }}

apt-cache pkgnames |
  sort -u |
  fzf --multi --preview 'apt-cache show {1}';

  {{- else }}{{/* by default use pacman */}}

paru -Sl --color=always |
  fzf --ansi --multi --preview 'paru -Si {2}' |
  awk '{print $2}';

  {{- end }}
{{- else if eq .chezmoi.os "android" }}{{/* by default use pacman */}}

pkg list-all |
  fzf --multi --preview-window down --preview 'pkg show {1}' |
  awk '{print $1}';

{{- end}}

# vi: syntax=sh
