#!/bin/sh

MKSCRIPT_CONTEXT="$HOME/.local/bin"

_context="$PWD"
[ "$1" = "-b" ] && _context="$MKSCRIPT_CONTEXT" && shift

[ -z "${1:-}" ] && echo "
Usage: $0 [-b] <path>
  -b     create in context of '$MKSCRIPT_CONTEXT'
" >&2 && exit 1

_path="${_context}/${1}"

[ -f "$_path" ] && echo "File '$_path' exists!" >&2 && exit 1

echo "Script path: $_path"

echo '#!/bin/sh

' > "${_context}/${1}"

chmod u+x "$_path"

eval exec "$EDITOR" "$_path" "+2"
