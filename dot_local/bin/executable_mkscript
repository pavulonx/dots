#!/bin/sh

MKSCRIPT_USER_BIN_DIR="${MKSCRIPT_USER_BIN_DIR:-"$HOME/.local/bin"}"

[ -z "${1:-}" ] && echo "
Usage: $0 <path>
" >&2 && exit 1

_script_path="$(realpath -m "$1")"
_dir="$(dirname "$_script_path")"
if ! [ -d "$_dir" ]; then
  mkdir -p "$_dir"
fi

[ -f "$_script_path" ] && echo "File '$_script_path' exists!" >&2 && exit 1

echo "Script path: $_script_path"

echo '#!/bin/sh
' > "$_script_path"

chmod u+x "$_script_path"

exec "$EDITOR" "$_script_path" "+2"
